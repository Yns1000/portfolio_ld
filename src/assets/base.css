/* src/assets/base.css */

/* --- 1. OPTIMISATIONS DE CHARGEMENT & FLUIDITÉ --- */

/* Empêche l'affichage du texte brut avant le chargement de Vue */
[v-cloak] { display: none; }

/* Classe temporaire pour supprimer le "flash" de couleur au démarrage */
.no-transition * {
  transition: none !important;
}

/* Optimisation globale des transitions de fond */
html {
  transition: background-color 0.3s ease-in-out;
}

/* --- 2. CONFIGURATION DES PALETTES (SOMBRE & CLAIR) --- */

/* PALETTE 1 : TERRE (DÉFAUT) */
:root, [data-palette="1"] {
  --color-bg: #55423d; --color-bg-card: #271c19; --color-accent: #ffc0ad;
  --color-bg-rgb: 85, 66, 61; --color-bg-card-rgb: 39, 28, 25; --color-accent-rgb: 255, 192, 173;
  --color-text-main: #fffffe; --color-text-muted: #fff3ec; --color-accent-text: #271c19;
  --color-border: rgba(255, 255, 255, 0.2); --font-main: 'Inter', sans-serif;
}
[data-palette="1"][data-theme="light"] {
  --color-bg: #fff3ec; --color-bg-card: #ffffff;
  --color-bg-rgb: 255, 243, 236; --color-bg-card-rgb: 255, 255, 255; --color-accent-rgb: 255, 192, 173;
  --color-text-main: #271c19; --color-text-muted: #55423d; --color-border: rgba(39, 28, 25, 0.1);
}

/* PALETTE 2 : OCÉAN PROFOND */
[data-palette="2"] {
  --color-bg: #0f172a; --color-bg-card: #1e293b; --color-accent: #38bdf8;
  --color-bg-rgb: 15, 23, 42; --color-bg-card-rgb: 30, 41, 59; --color-accent-rgb: 56, 189, 248;
  --color-text-main: #f8fafc; --color-text-muted: #94a3b8; --color-accent-text: #0f172a;
}
[data-palette="2"][data-theme="light"] {
  --color-bg: #f1f5f9; --color-bg-card: #ffffff;
  --color-bg-rgb: 241, 245, 249; --color-accent-rgb: 56, 189, 248;
  --color-text-main: #0f172a; --color-text-muted: #475569; --color-border: rgba(15, 23, 42, 0.1);
}

/* PALETTE 3 : FORÊT ÉMERAUDE */
[data-palette="3"] {
  --color-bg: #064e3b; --color-bg-card: #065f46; --color-accent: #34d399;
  --color-bg-rgb: 6, 78, 59; --color-bg-card-rgb: 6, 95, 70; --color-accent-rgb: 52, 211, 153;
  --color-text-main: #ecfdf5; --color-text-muted: #a7f3d0; --color-accent-text: #064e3b;
}
[data-palette="3"][data-theme="light"] {
  --color-bg: #f0fdf4; --color-bg-card: #ffffff;
  --color-bg-rgb: 240, 253, 244; --color-accent-rgb: 52, 211, 153;
  --color-text-main: #064e3b; --color-text-muted: #166534; --color-border: rgba(6, 78, 59, 0.1);
}

/* PALETTE 4 : LAVANDE ROYALE */
[data-palette="4"] {
  --color-bg: #2e1065; --color-bg-card: #4c1d95; --color-accent: #a78bfa;
  --color-bg-rgb: 46, 16, 101; --color-bg-card-rgb: 76, 29, 149; --color-accent-rgb: 167, 139, 250;
  --color-text-main: #f5f3ff; --color-text-muted: #ddd6fe; --color-accent-text: #2e1065;
}
[data-palette="4"][data-theme="light"] {
  --color-bg: #f5f3ff; --color-bg-card: #ffffff;
  --color-bg-rgb: 245, 243, 255; --color-accent-rgb: 167, 139, 250;
  --color-text-main: #2e1065; --color-text-muted: #5b21b6; --color-border: rgba(46, 16, 101, 0.1);
}

/* PALETTE 5 : ARDOISE & OR */
[data-palette="5"] {
  --color-bg: #18181b; --color-bg-card: #27272a; --color-accent: #fbbf24;
  --color-bg-rgb: 24, 24, 27; --color-bg-card-rgb: 39, 39, 42; --color-accent-rgb: 251, 191, 36;
  --color-text-main: #fafafa; --color-text-muted: #a1a1aa; --color-accent-text: #18181b;
}
[data-palette="5"][data-theme="light"] {
  --color-bg: #f4f4f5; --color-bg-card: #ffffff;
  --color-bg-rgb: 244, 244, 245; --color-accent-rgb: 251, 191, 36;
  --color-text-main: #18181b; --color-text-muted: #52525b; --color-border: rgba(24, 24, 27, 0.1);
}

/* PALETTE 6 : CANDY PASTEL */
[data-palette="6"] {
  --color-bg: #2D132C; --color-bg-card: #4D1B3B; --color-accent: #D66BA0;
  --color-bg-rgb: 45, 19, 44; --color-bg-card-rgb: 77, 27, 59; --color-accent-rgb: 214, 107, 160;
  --color-text-main: #F4E3BA; --color-text-muted: #E5A9A9; --color-accent-text: #2D132C;
}
[data-palette="6"][data-theme="light"] {
  --color-bg: #F4E3BA; --color-bg-card: #ffffff;
  --color-bg-rgb: 244, 227, 186; --color-accent-rgb: 214, 107, 160;
  --color-text-main: #AF4D98; --color-text-muted: #D66BA0; --color-border: rgba(175, 77, 152, 0.1);
}

/* PALETTE 7 : AUBE DORÉE */
[data-palette="7"] {
  --color-bg: #310D20; --color-bg-card: #4A1530; --color-accent: #F2D06B;
  --color-bg-rgb: 49, 13, 32; --color-bg-card-rgb: 74, 21, 48; --color-accent-rgb: 242, 208, 107;
  --color-text-main: #FDF5E6; --color-text-muted: #E08E79; --color-accent-text: #310D20;
}
[data-palette="7"][data-theme="light"] {
  --color-bg: #FFFDF5; --color-bg-card: #ffffff;
  --color-bg-rgb: 255, 253, 245; --color-accent-rgb: 242, 208, 107;
  --color-text-main: #310D20; --color-text-muted: #B55D91; --color-border: rgba(49, 13, 32, 0.1);
}

/* PALETTE 8 : OHANA (Stitch) */
[data-palette="8"] {
  --color-bg: #1a2a6c; --color-bg-card: #2a408e; --color-accent: #00d2ff;
  --color-bg-rgb: 26, 42, 108; --color-bg-card-rgb: 42, 64, 142; --color-accent-rgb: 0, 210, 255;
  --color-text-main: #f0f8ff; --color-text-muted: #e78fb3; --color-accent-text: #1a2a6c;
}
[data-palette="8"][data-theme="light"] {
  --color-bg: #e0f2fe; --color-bg-card: #ffffff;
  --color-bg-rgb: 224, 242, 254; --color-accent-rgb: 0, 210, 255;
  --color-text-main: #1e3a8a; --color-text-muted: #0369a1; --color-border: rgba(26, 42, 108, 0.1);
}

/* PALETTE 9 : ASTÉROÏDE B612 (Petit Prince) */
[data-palette="9"] {
  --color-bg: #0f172a; --color-bg-card: #1e293b; --color-accent: #facc15;
  --color-bg-rgb: 15, 23, 42; --color-bg-card-rgb: 30, 41, 59; --color-accent-rgb: 250, 204, 21;
  --color-text-main: #fef9c3; --color-text-muted: #94a3b8; --color-accent-text: #0f172a;
}
[data-palette="9"][data-theme="light"] {
  --color-bg: #fefce8; --color-bg-card: #ffffff;
  --color-bg-rgb: 254, 252, 232; --color-accent-rgb: 250, 204, 21;
  --color-text-main: #1e293b; --color-text-muted: #854d0e; --color-border: rgba(15, 23, 42, 0.1);
}

/* --- 3. STYLES DE BASE & ANIMATIONS --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  color: var(--color-text-main);
  background-color: var(--color-bg);
  /* Transition optimisée pour éviter les saccades sur mobile */
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  line-height: 1.6;
  font-family: var(--font-main);
  -webkit-font-smoothing: antialiased;
}

/* Accélération matérielle pour les éléments avec flou */
.glass-nav, .glass-card {
  will-change: backdrop-filter, transform;
}

.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.reveal.visible { opacity: 1; transform: translateY(0); }